<%= turbo_frame_tag dom_id(post) do %>
  <div class="post container">
    <div class="post__content">
      <section class="post__section">
        <div class="post__header">
          <div class="post__titles">
            <h4>
              <%= post.title %>
            </h4>
          </div>
          <% if post.created_at === post.updated_at %>
            <p>
              <%=
                link_to post.user.username,
                url_for(
                  controller: '/users',
                  action: 'show',
                  username: post.user.username
                ),
                class: "text__link",
                data: { turbo_frame: "_top" }
              %>
              created this post on <%= post.updated_at&.strftime("%B %d, %Y") %>
            </p>
          <% else %>
            <p>
              <%=
                link_to post.user.username,
                url_for(
                  controller: '/users',
                  action: 'show',
                  username: post.user.username
                ),
                class: "text__link",
                data: { turbo_frame: "_top" }
              %>
              edited this post on <%= post.updated_at&.strftime("%B %d, %Y") %></p>
          <% end %>
        </div>
      </section>
      <section class="post__section">
        <div class="post__body">
          <p><%= post.body %></p>
        </div>
        <% if post && post.persisted? && current_user == post.trip.user %>
          <div class="post__actions">
            <%= link_to "Edit post",
              edit_post_path(post),
              class: "btn btn--orange" %>
            <%= button_to "Delete",
                post_path(post),
                method: :delete,
                form: { data: { 'turbo-confirm': 'Are you sure?' } },
                class: "btn btn--red" %>
          </div>
        <% end %>
      </section>
    </div>
  </div>
<% end %>