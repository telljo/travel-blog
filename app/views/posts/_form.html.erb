<%= simple_form_for [trip, post] do |f| %>
  <div class="form">
    <% if @post.errors.any? %>
      <div class="error-message">
        <%= @post.errors.full_messages.to_sentence.capitalize %>
      </div>
    <% end %>

    <fieldset class="form__input">
      <% if @trip %>
        <%= f.input :trip_id, as: :hidden, input_html: { value: @trip.id } %>
      <% else %>
        <%= f.input :trip_id, as: :hidden, input_html: { value: @post.trip.id } %>
      <% end %>
      <%= f.input :title, input_html: { autofocus: true } %>
      <%= f.input :body %>
    </fieldset>

    <fieldset>
      <div class="form__buttons">
        <%= f.submit class: "btn btn--secondary" %>
        <%= link_to "Cancel",
            trip_url(@post.trip),
            data: { turbo_frame: "_top" },
            class: "btn btn--light" %>
      </div>
    </fieldset>
  </div>
<% end %>